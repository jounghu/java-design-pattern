# Abstract-Document 抽象文档设计模式

Tag: `扩展性`

归类: `结构形`

## Intent 意图

使用动态属性并且实现无类型语言的灵活性，同时保持类型安全。

## Explain 解释

抽象文档允许处理增加的，非静态属性，这个设计模式使用特征概念来将不同类的属性分离到一组接口中

真实世界例子：

> 比如，一辆车由多个部分组成，当然我们并不知道某一辆车是否拥有所有的部分，所以我们的车是动态的
> 并且非常灵活的。

一句话解释：

> 抽象文档允许在对象不知道的情况下将属性附加到对象中

Wikipedia解释

> 是一种结构类型的设计模式在松散的key-value结构中并通过强类型暴露对象。这个设计模式的目的
> 是为了在强类型语言实现高度的灵活性和动态的添加属性到对象中，且没有丢失类型。这种设计模式拆分属性到一系列接口中。

类图

![abstract-document.png](../docImages/abstract-document.png)

代码实现

车子包含品牌，价格，轮子和门

轮子和门又有共同的属性，品牌，价格，类型

数据存在在Map<String,Object>中。

这样我们可以抽象出来 `HasType` `HasPrice` `HasModel` `HasPart`不同的属性接口提供给外部使用，并在这里面进行强转。

## 适用性

抽象文档适用场景:

1. 运行过程中需要动态添加属性
2. 你想要一种灵活的方式组织树状结构
3. 你想要更加松耦合系统

